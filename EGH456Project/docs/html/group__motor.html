<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EGH456 Assignment 2: Motor Subsystem</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">EGH456 Assignment 2
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__motor.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Motor Subsystem</div></div>
</div><!--header-->
<div class="contents">

<p>BLDC Motor Control System File.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadcSample.html">adcSample</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga176b6c843e5a734ec409cc347821bbeb" id="r_ga176b6c843e5a734ec409cc347821bbeb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga176b6c843e5a734ec409cc347821bbeb">setBitTo</a>(n,  b,  v)</td></tr>
<tr class="memdesc:ga176b6c843e5a734ec409cc347821bbeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility macro to set specific bit in a number.  <br /></td></tr>
<tr class="separator:ga176b6c843e5a734ec409cc347821bbeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76b2b7d3f9f2c0f931fbbb854c96986e" id="r_ga76b2b7d3f9f2c0f931fbbb854c96986e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga76b2b7d3f9f2c0f931fbbb854c96986e">TICKS_TO_MS</a>(ticks)</td></tr>
<tr class="memdesc:ga76b2b7d3f9f2c0f931fbbb854c96986e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert FreeRTOS ticks to milliseconds.  <br /></td></tr>
<tr class="separator:ga76b2b7d3f9f2c0f931fbbb854c96986e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab456f738bec038962389b5c5cfca3de4" id="r_gab456f738bec038962389b5c5cfca3de4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab456f738bec038962389b5c5cfca3de4">MAXBUFFER</a>&#160;&#160;&#160;40</td></tr>
<tr class="separator:gab456f738bec038962389b5c5cfca3de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga99a14d1fc263b159cb634778c7a14b36" id="r_ga99a14d1fc263b159cb634778c7a14b36"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga99a14d1fc263b159cb634778c7a14b36">MAXRPM</a>&#160;&#160;&#160;3250</td></tr>
<tr class="memdesc:ga99a14d1fc263b159cb634778c7a14b36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum RPM rating of the motor.  <br /></td></tr>
<tr class="separator:ga99a14d1fc263b159cb634778c7a14b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf281425e62298bac2df0fbe8690a4844" id="r_gaf281425e62298bac2df0fbe8690a4844"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf281425e62298bac2df0fbe8690a4844">PERIOD</a>&#160;&#160;&#160;100</td></tr>
<tr class="memdesc:gaf281425e62298bac2df0fbe8690a4844"><td class="mdescLeft">&#160;</td><td class="mdescRight">PWM period setting (10-100 range)  <br /></td></tr>
<tr class="separator:gaf281425e62298bac2df0fbe8690a4844"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf30c012c92bdd66716137298e1f7e198" id="r_gaf30c012c92bdd66716137298e1f7e198"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf30c012c92bdd66716137298e1f7e198">setupTimers</a> ()</td></tr>
<tr class="memdesc:gaf30c012c92bdd66716137298e1f7e198"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure Timer1 for RPM ramping control.  <br /></td></tr>
<tr class="separator:gaf30c012c92bdd66716137298e1f7e198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafcf62509553f63c5a7bf44e7d61c960b" id="r_gafcf62509553f63c5a7bf44e7d61c960b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafcf62509553f63c5a7bf44e7d61c960b">xGPIOHandlerH</a> (void)</td></tr>
<tr class="memdesc:gafcf62509553f63c5a7bf44e7d61c960b"><td class="mdescLeft">&#160;</td><td class="mdescRight">GPIO Port H Interrupt Handler.  <br /></td></tr>
<tr class="separator:gafcf62509553f63c5a7bf44e7d61c960b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab522aa5b63f839693f4c5f1da54dde72" id="r_gab522aa5b63f839693f4c5f1da54dde72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab522aa5b63f839693f4c5f1da54dde72">xGPIOHandlerN</a> (void)</td></tr>
<tr class="memdesc:gab522aa5b63f839693f4c5f1da54dde72"><td class="mdescLeft">&#160;</td><td class="mdescRight">GPIO Port N Interrupt Handler.  <br /></td></tr>
<tr class="separator:gab522aa5b63f839693f4c5f1da54dde72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3d16f19c3510a10f87fc0bcf1e57918" id="r_gaf3d16f19c3510a10f87fc0bcf1e57918"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf3d16f19c3510a10f87fc0bcf1e57918">xGPIOHandlerM</a> (void)</td></tr>
<tr class="memdesc:gaf3d16f19c3510a10f87fc0bcf1e57918"><td class="mdescLeft">&#160;</td><td class="mdescRight">GPIO Port M Interrupt Handler.  <br /></td></tr>
<tr class="separator:gaf3d16f19c3510a10f87fc0bcf1e57918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa870854414570364019b53db97f40f86" id="r_gaa870854414570364019b53db97f40f86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa870854414570364019b53db97f40f86">xTimer1AHandler</a> (void)</td></tr>
<tr class="memdesc:gaa870854414570364019b53db97f40f86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer 1A interrupt handler for RPM ramping.  <br /></td></tr>
<tr class="separator:gaa870854414570364019b53db97f40f86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45bc1614b4a08f093abf9970405eff4f" id="r_ga45bc1614b4a08f093abf9970405eff4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga45bc1614b4a08f093abf9970405eff4f">xADC1Sequence0</a> (void)</td></tr>
<tr class="memdesc:ga45bc1614b4a08f093abf9970405eff4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC1 Sequence 0 Interrupt Handler.  <br /></td></tr>
<tr class="separator:ga45bc1614b4a08f093abf9970405eff4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17acdc6905b68b45c67aa61fe958f688" id="r_ga17acdc6905b68b45c67aa61fe958f688"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga17acdc6905b68b45c67aa61fe958f688">CreateMotorTask</a> (void)</td></tr>
<tr class="memdesc:ga17acdc6905b68b45c67aa61fe958f688"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create Motor Control Tasks.  <br /></td></tr>
<tr class="separator:ga17acdc6905b68b45c67aa61fe958f688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga988a20ffdf02ddb5e1df3a83828494aa" id="r_ga988a20ffdf02ddb5e1df3a83828494aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga988a20ffdf02ddb5e1df3a83828494aa">hallEffectDecode</a> ()</td></tr>
<tr class="memdesc:ga988a20ffdf02ddb5e1df3a83828494aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode Hall effect sensor state and update motor commutation.  <br /></td></tr>
<tr class="separator:ga988a20ffdf02ddb5e1df3a83828494aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d6f239da630b7b16b0e02a4aaa664f1" id="r_ga8d6f239da630b7b16b0e02a4aaa664f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8d6f239da630b7b16b0e02a4aaa664f1">checkMotor</a> ()</td></tr>
<tr class="memdesc:ga8d6f239da630b7b16b0e02a4aaa664f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll Hall effect sensors and update motor (fallback method)  <br /></td></tr>
<tr class="separator:ga8d6f239da630b7b16b0e02a4aaa664f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab86eb19b25275b3725f3c542ed3b79f7" id="r_gab86eb19b25275b3725f3c542ed3b79f7"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab86eb19b25275b3725f3c542ed3b79f7">eStopGetter</a> (TickType_t blockingTime)</td></tr>
<tr class="separator:gab86eb19b25275b3725f3c542ed3b79f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3c9525e67cb6a1d2b2957248226c7aa" id="r_gaf3c9525e67cb6a1d2b2957248226c7aa"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf3c9525e67cb6a1d2b2957248226c7aa">eStopSetter</a> (bool set, TickType_t blockingTime)</td></tr>
<tr class="separator:gaf3c9525e67cb6a1d2b2957248226c7aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga116fdd93b02eab3cdc08b91546ea4048" id="r_ga116fdd93b02eab3cdc08b91546ea4048"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga116fdd93b02eab3cdc08b91546ea4048">RPMCalculate</a> (TickType_t dt)</td></tr>
<tr class="memdesc:ga116fdd93b02eab3cdc08b91546ea4048"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate motor RPM from Hall effect transitions.  <br /></td></tr>
<tr class="separator:ga116fdd93b02eab3cdc08b91546ea4048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad17f8340ab0c3389c430455844624503" id="r_gad17f8340ab0c3389c430455844624503"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad17f8340ab0c3389c430455844624503">PIDController</a> (double RPM, double dt)</td></tr>
<tr class="memdesc:gad17f8340ab0c3389c430455844624503"><td class="mdescLeft">&#160;</td><td class="mdescRight">PID speed controller for motor.  <br /></td></tr>
<tr class="separator:gad17f8340ab0c3389c430455844624503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ade69d0b0ae4566e4a7217d99490f04" id="r_ga3ade69d0b0ae4566e4a7217d99490f04"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3ade69d0b0ae4566e4a7217d99490f04">readCurrent</a> (uint16_t adc_value)</td></tr>
<tr class="memdesc:ga3ade69d0b0ae4566e4a7217d99490f04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read Current from ADC Value.  <br /></td></tr>
<tr class="separator:ga3ade69d0b0ae4566e4a7217d99490f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5bace85b2480456bf970fe52a9f7643" id="r_gab5bace85b2480456bf970fe52a9f7643"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab5bace85b2480456bf970fe52a9f7643">estimatePower</a> (double voltage, double current_a, double current_b)</td></tr>
<tr class="memdesc:gab5bace85b2480456bf970fe52a9f7643"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate Total Motor Power.  <br /></td></tr>
<tr class="separator:gab5bace85b2480456bf970fe52a9f7643"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gacb2b0bb917b622ffe964e56d075f2d60" id="r_gacb2b0bb917b622ffe964e56d075f2d60"><td class="memItemLeft" align="right" valign="top">volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacb2b0bb917b622ffe964e56d075f2d60">g_ui32SysClock</a></td></tr>
<tr class="separator:gacb2b0bb917b622ffe964e56d075f2d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d45af17d7638639d42af245a9e8ae96" id="r_ga3d45af17d7638639d42af245a9e8ae96"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3d45af17d7638639d42af245a9e8ae96">adcSample::ch0</a></td></tr>
<tr class="separator:ga3d45af17d7638639d42af245a9e8ae96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e35a47eb54661eff53a300ef12f2ebf" id="r_ga9e35a47eb54661eff53a300ef12f2ebf"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9e35a47eb54661eff53a300ef12f2ebf">adcSample::ch4</a></td></tr>
<tr class="separator:ga9e35a47eb54661eff53a300ef12f2ebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga789a93ef20a4eb18ffc2fbf321137fd3" id="r_ga789a93ef20a4eb18ffc2fbf321137fd3"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="structadcSample.html">adcSample</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga789a93ef20a4eb18ffc2fbf321137fd3">adcBuffer</a> [<a class="el" href="#gab456f738bec038962389b5c5cfca3de4">MAXBUFFER</a>]</td></tr>
<tr class="separator:ga789a93ef20a4eb18ffc2fbf321137fd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga89b7affab316adf9f2aa29499fae73f4" id="r_ga89b7affab316adf9f2aa29499fae73f4"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga89b7affab316adf9f2aa29499fae73f4">adcHead</a> = 0</td></tr>
<tr class="separator:ga89b7affab316adf9f2aa29499fae73f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf40291b36f16081889e40c717360bad5" id="r_gaf40291b36f16081889e40c717360bad5"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf40291b36f16081889e40c717360bad5">adcTail</a> = 0</td></tr>
<tr class="separator:gaf40291b36f16081889e40c717360bad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6dd8cf133db4505d84f2144ea261181" id="r_gac6dd8cf133db4505d84f2144ea261181"><td class="memItemLeft" align="right" valign="top">const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac6dd8cf133db4505d84f2144ea261181">Kp</a> = 0.032</td></tr>
<tr class="memdesc:gac6dd8cf133db4505d84f2144ea261181"><td class="mdescLeft">&#160;</td><td class="mdescRight">PID Proportional gain constant for speed control.  <br /></td></tr>
<tr class="separator:gac6dd8cf133db4505d84f2144ea261181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe6fd874b1259cef0710b2c9d23bc087" id="r_gafe6fd874b1259cef0710b2c9d23bc087"><td class="memItemLeft" align="right" valign="top">const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafe6fd874b1259cef0710b2c9d23bc087">Ki</a> = 0.075</td></tr>
<tr class="memdesc:gafe6fd874b1259cef0710b2c9d23bc087"><td class="mdescLeft">&#160;</td><td class="mdescRight">PID Integral gain constant for speed control.  <br /></td></tr>
<tr class="separator:gafe6fd874b1259cef0710b2c9d23bc087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac650d3f965d8f8ed28a7f45b96d4ebdd" id="r_gac650d3f965d8f8ed28a7f45b96d4ebdd"><td class="memItemLeft" align="right" valign="top">const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac650d3f965d8f8ed28a7f45b96d4ebdd">Kd</a> = 0.00005</td></tr>
<tr class="memdesc:gac650d3f965d8f8ed28a7f45b96d4ebdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">PID Derivative gain constant for speed control.  <br /></td></tr>
<tr class="separator:gac650d3f965d8f8ed28a7f45b96d4ebdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e439ca68b7b6892379372a7d64e17c0" id="r_ga2e439ca68b7b6892379372a7d64e17c0"><td class="memItemLeft" align="right" valign="top">TaskHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2e439ca68b7b6892379372a7d64e17c0">powerTaskHandle</a></td></tr>
<tr class="memdesc:ga2e439ca68b7b6892379372a7d64e17c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task handle for power monitoring task.  <br /></td></tr>
<tr class="separator:ga2e439ca68b7b6892379372a7d64e17c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72add6b773bcdff7c2627fb57e0e318e" id="r_ga72add6b773bcdff7c2627fb57e0e318e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga72add6b773bcdff7c2627fb57e0e318e">filtered_ch0</a></td></tr>
<tr class="memdesc:ga72add6b773bcdff7c2627fb57e0e318e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filtered ADC value for current sensor channel 0.  <br /></td></tr>
<tr class="separator:ga72add6b773bcdff7c2627fb57e0e318e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee70e8b430f0700c220c36645ab3d9d2" id="r_gaee70e8b430f0700c220c36645ab3d9d2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaee70e8b430f0700c220c36645ab3d9d2">filtered_ch4</a></td></tr>
<tr class="memdesc:gaee70e8b430f0700c220c36645ab3d9d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filtered ADC value for current sensor channel 4.  <br /></td></tr>
<tr class="separator:gaee70e8b430f0700c220c36645ab3d9d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa210b2858db4e72330bbae1e1d083a7d" id="r_gaa210b2858db4e72330bbae1e1d083a7d"><td class="memItemLeft" align="right" valign="top">SemaphoreHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa210b2858db4e72330bbae1e1d083a7d">hallEffectFlag</a></td></tr>
<tr class="memdesc:gaa210b2858db4e72330bbae1e1d083a7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Semaphore signaled by Hall effect sensor interrupts.  <br /></td></tr>
<tr class="separator:gaa210b2858db4e72330bbae1e1d083a7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga89d98e267476d74d3dea65f84ddd830a" id="r_ga89d98e267476d74d3dea65f84ddd830a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga89d98e267476d74d3dea65f84ddd830a">direction</a></td></tr>
<tr class="memdesc:ga89d98e267476d74d3dea65f84ddd830a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motor direction flag (deprecated - causes stalling)  <br /></td></tr>
<tr class="separator:ga89d98e267476d74d3dea65f84ddd830a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83992b55088fe8e82bb7b59cd450305f" id="r_ga83992b55088fe8e82bb7b59cd450305f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga83992b55088fe8e82bb7b59cd450305f">motorState</a></td></tr>
<tr class="memdesc:ga83992b55088fe8e82bb7b59cd450305f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motor enable state (1=on, 0=off)  <br /></td></tr>
<tr class="separator:ga83992b55088fe8e82bb7b59cd450305f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73c569eb51dc41fde02995b7e9a4de2e" id="r_ga73c569eb51dc41fde02995b7e9a4de2e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga73c569eb51dc41fde02995b7e9a4de2e">currentRPM</a> = 0</td></tr>
<tr class="memdesc:ga73c569eb51dc41fde02995b7e9a4de2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current RPM of the motor.  <br /></td></tr>
<tr class="separator:ga73c569eb51dc41fde02995b7e9a4de2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga600c66f48ad4125bb1b9ac198f42ea5f" id="r_ga600c66f48ad4125bb1b9ac198f42ea5f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga600c66f48ad4125bb1b9ac198f42ea5f">currentOutput</a> = 0</td></tr>
<tr class="separator:ga600c66f48ad4125bb1b9ac198f42ea5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b055c090b25e7c8b478ebca0ab9e69d" id="r_ga9b055c090b25e7c8b478ebca0ab9e69d"><td class="memItemLeft" align="right" valign="top">SemaphoreHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9b055c090b25e7c8b478ebca0ab9e69d">estopMutex</a></td></tr>
<tr class="memdesc:ga9b055c090b25e7c8b478ebca0ab9e69d"><td class="mdescLeft">&#160;</td><td class="mdescRight">motorMulex for Current RPM and output  <br /></td></tr>
<tr class="separator:ga9b055c090b25e7c8b478ebca0ab9e69d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga829e788bfb9af8ac8e1a66edb6563269" id="r_ga829e788bfb9af8ac8e1a66edb6563269"><td class="memItemLeft" align="right" valign="top">volatile double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga829e788bfb9af8ac8e1a66edb6563269">setRPM</a></td></tr>
<tr class="memdesc:ga829e788bfb9af8ac8e1a66edb6563269"><td class="mdescLeft">&#160;</td><td class="mdescRight">Target RPM setpoint for speed controller.  <br /></td></tr>
<tr class="separator:ga829e788bfb9af8ac8e1a66edb6563269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae451c935d6f5fbddc61a34be4fddb55" id="r_gaae451c935d6f5fbddc61a34be4fddb55"><td class="memItemLeft" align="right" valign="top">volatile double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaae451c935d6f5fbddc61a34be4fddb55">softSetRPM</a></td></tr>
<tr class="memdesc:gaae451c935d6f5fbddc61a34be4fddb55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current soft RPM value (ramped setpoint)  <br /></td></tr>
<tr class="separator:gaae451c935d6f5fbddc61a34be4fddb55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b9466d080199239d19192d3257e6f83" id="r_ga1b9466d080199239d19192d3257e6f83"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1b9466d080199239d19192d3257e6f83">estop</a> = 0</td></tr>
<tr class="memdesc:ga1b9466d080199239d19192d3257e6f83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emergency stop flag.  <br /></td></tr>
<tr class="separator:ga1b9466d080199239d19192d3257e6f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga99178960b78fe351d37f5d6b4d4ff4b2" id="r_ga99178960b78fe351d37f5d6b4d4ff4b2"><td class="memItemLeft" align="right" valign="top">sharedValues&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga99178960b78fe351d37f5d6b4d4ff4b2">maxCurrentLimit</a></td></tr>
<tr class="memdesc:ga99178960b78fe351d37f5d6b4d4ff4b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum current limit for motor.  <br /></td></tr>
<tr class="separator:ga99178960b78fe351d37f5d6b4d4ff4b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2de5b01a4efcb9b1582bb2947efc6bad" id="r_ga2de5b01a4efcb9b1582bb2947efc6bad"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2de5b01a4efcb9b1582bb2947efc6bad">steps</a></td></tr>
<tr class="memdesc:ga2de5b01a4efcb9b1582bb2947efc6bad"><td class="mdescLeft">&#160;</td><td class="mdescRight">RPM ramping step size for acceleration.  <br /></td></tr>
<tr class="separator:ga2de5b01a4efcb9b1582bb2947efc6bad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6653bd41447168ef760db988a4b6f3f" id="r_gaf6653bd41447168ef760db988a4b6f3f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf6653bd41447168ef760db988a4b6f3f">esteps</a></td></tr>
<tr class="memdesc:gaf6653bd41447168ef760db988a4b6f3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">RPM ramping step size for emergency stop deceleration.  <br /></td></tr>
<tr class="separator:gaf6653bd41447168ef760db988a4b6f3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8719d85f3c68c832744bae03df7d2b4" id="r_gaf8719d85f3c68c832744bae03df7d2b4"><td class="memItemLeft" align="right" valign="top">sharedValues&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf8719d85f3c68c832744bae03df7d2b4">rpmData</a></td></tr>
<tr class="memdesc:gaf8719d85f3c68c832744bae03df7d2b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared RPM values.  <br /></td></tr>
<tr class="separator:gaf8719d85f3c68c832744bae03df7d2b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17cac9283a9453945976134b5535deb0" id="r_ga17cac9283a9453945976134b5535deb0"><td class="memItemLeft" align="right" valign="top">sharedValues&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga17cac9283a9453945976134b5535deb0">powerData</a></td></tr>
<tr class="memdesc:ga17cac9283a9453945976134b5535deb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared Power Values.  <br /></td></tr>
<tr class="separator:ga17cac9283a9453945976134b5535deb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb472f4b53a5c0712e857739df6e61f5" id="r_gadb472f4b53a5c0712e857739df6e61f5"><td class="memItemLeft" align="right" valign="top">sharedValues&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadb472f4b53a5c0712e857739df6e61f5">pwmData</a></td></tr>
<tr class="memdesc:gadb472f4b53a5c0712e857739df6e61f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shared PWM value.  <br /></td></tr>
<tr class="separator:gadb472f4b53a5c0712e857739df6e61f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5532ce73a7b684972ba38c612509c340" id="r_ga5532ce73a7b684972ba38c612509c340"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5532ce73a7b684972ba38c612509c340">hallEffectState</a></td></tr>
<tr class="memdesc:ga5532ce73a7b684972ba38c612509c340"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current Hall effect sensor state (3-bit combination)  <br /></td></tr>
<tr class="separator:ga5532ce73a7b684972ba38c612509c340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd84449e787329bb9988de0695dbed64" id="r_gacd84449e787329bb9988de0695dbed64"><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacd84449e787329bb9988de0695dbed64">hallEffect_Count</a></td></tr>
<tr class="memdesc:gacd84449e787329bb9988de0695dbed64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter for Hall effect sensor transitions (for RPM calculation)  <br /></td></tr>
<tr class="separator:gacd84449e787329bb9988de0695dbed64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>BLDC Motor Control System File. </p>
<p>This file contains implementation for a comprehensive BLDC motor control system using FreeRTOS, Hall effect sensors, and power monitoring via ADC. The system provides speed control, 6-step commutation, real-time power monitoring, and safe motor operation.</p>
<h2><a class="anchor" id="autotoc_md0"></a>
System Architecture:</h2>
<ul>
<li><b>Motor Control Task</b>: Handles Hall sensor interrupts and commutation</li>
<li><b>Speed Controller Task</b>: Implements PID control for RPM regulation</li>
<li><b>Power Task</b>: Monitors current consumption and calculates power</li>
<li><b>Timer-based Ramping</b>: Provides soft start/stop functionality</li>
</ul>
<h2><a class="anchor" id="autotoc_md1"></a>
Motor Control Interface:</h2>
<div class="fragment"><div class="line"><span class="comment">// Initialize motor system (call once at startup)</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="#ga17acdc6905b68b45c67aa61fe958f688">CreateMotorTask</a>() != 0) {</div>
<div class="line">    <span class="comment">// Handle initialization failure</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Basic motor control</span></div>
<div class="line"><a class="code hl_variable" href="#ga829e788bfb9af8ac8e1a66edb6563269">setRPM</a> = 2000;        <span class="comment">// Set target speed (0-3250 RPM)</span></div>
<div class="line"><a class="code hl_variable" href="#ga1b9466d080199239d19192d3257e6f83">estop</a> = 0;            <span class="comment">// Enable motor (0=run, 1=stop)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Emergency stop sequence</span></div>
<div class="line"><a class="code hl_variable" href="#ga1b9466d080199239d19192d3257e6f83">estop</a> = 1;            <span class="comment">// Triggers soft deceleration stop, will also setRPM to</span></div>
<div class="line">0</div>
<div class="line"><span class="comment">// Motor will ramp down automatically using esteps</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check motor status</span></div>
<div class="line">uint32_t localRPM = 0;</div>
<div class="line">uint16_t localOutput = 0;</div>
<div class="line"><span class="keywordflow">if</span> (xSemaphoreTake(motorMutex, pdMS_TO_TICKS(100) == pdFALSE)){</div>
<div class="line">  localRPM = <a class="code hl_variable" href="group__gui.html#ga73c569eb51dc41fde02995b7e9a4de2e">currentRPM</a>;</div>
<div class="line">  localOutput = <a class="code hl_variable" href="#ga600c66f48ad4125bb1b9ac198f42ea5f">currentOutput</a>;</div>
<div class="line">  xSemaphoreGive(motorMutex);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__gui_html_ga73c569eb51dc41fde02995b7e9a4de2e"><div class="ttname"><a href="group__gui.html#ga73c569eb51dc41fde02995b7e9a4de2e">currentRPM</a></div><div class="ttdeci">uint32_t currentRPM</div><div class="ttdoc">Current RPM of the motor.</div><div class="ttdef"><b>Definition</b> motors.c:186</div></div>
<div class="ttc" id="agroup__motor_html_ga17acdc6905b68b45c67aa61fe958f688"><div class="ttname"><a href="#ga17acdc6905b68b45c67aa61fe958f688">CreateMotorTask</a></div><div class="ttdeci">uint8_t CreateMotorTask(void)</div><div class="ttdoc">Create Motor Control Tasks.</div><div class="ttdef"><b>Definition</b> motors.c:396</div></div>
<div class="ttc" id="agroup__motor_html_ga1b9466d080199239d19192d3257e6f83"><div class="ttname"><a href="#ga1b9466d080199239d19192d3257e6f83">estop</a></div><div class="ttdeci">bool estop</div><div class="ttdoc">Emergency stop flag.</div><div class="ttdef"><b>Definition</b> motors.c:210</div></div>
<div class="ttc" id="agroup__motor_html_ga600c66f48ad4125bb1b9ac198f42ea5f"><div class="ttname"><a href="#ga600c66f48ad4125bb1b9ac198f42ea5f">currentOutput</a></div><div class="ttdeci">uint16_t currentOutput</div><div class="ttdef"><b>Definition</b> motors.c:192</div></div>
<div class="ttc" id="agroup__motor_html_ga829e788bfb9af8ac8e1a66edb6563269"><div class="ttname"><a href="#ga829e788bfb9af8ac8e1a66edb6563269">setRPM</a></div><div class="ttdeci">volatile double setRPM</div><div class="ttdoc">Target RPM setpoint for speed controller.</div><div class="ttdef"><b>Definition</b> motors.c:201</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2"></a>
Power Monitoring Interface:</h2>
<div class="fragment"><div class="line"><span class="comment">// Safe power monitoring access</span></div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">double</span> <a class="code hl_variable" href="#ga72add6b773bcdff7c2627fb57e0e318e">filtered_ch0</a>, <a class="code hl_variable" href="#gaee70e8b430f0700c220c36645ab3d9d2">filtered_ch4</a>;  <span class="comment">// Filtered ADC values</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Read power data safely (disable interrupts during multi-step calculations)</span></div>
<div class="line"><span class="keywordtype">double</span> current_a = <a class="code hl_function" href="#ga3ade69d0b0ae4566e4a7217d99490f04">readCurrent</a>((uint16_t)<a class="code hl_variable" href="#ga72add6b773bcdff7c2627fb57e0e318e">filtered_ch0</a>);</div>
<div class="line"><span class="keywordtype">double</span> current_b = <a class="code hl_function" href="#ga3ade69d0b0ae4566e4a7217d99490f04">readCurrent</a>((uint16_t)<a class="code hl_variable" href="#gaee70e8b430f0700c220c36645ab3d9d2">filtered_ch4</a>);</div>
<div class="line"><span class="keywordtype">double</span> total_power = <a class="code hl_function" href="#gab5bace85b2480456bf970fe52a9f7643">estimatePower</a>(24.0, current_a, current_b);</div>
<div class="ttc" id="agroup__motor_html_ga3ade69d0b0ae4566e4a7217d99490f04"><div class="ttname"><a href="#ga3ade69d0b0ae4566e4a7217d99490f04">readCurrent</a></div><div class="ttdeci">double readCurrent(uint16_t adc_value)</div><div class="ttdoc">Read Current from ADC Value.</div><div class="ttdef"><b>Definition</b> motors.c:708</div></div>
<div class="ttc" id="agroup__motor_html_ga72add6b773bcdff7c2627fb57e0e318e"><div class="ttname"><a href="#ga72add6b773bcdff7c2627fb57e0e318e">filtered_ch0</a></div><div class="ttdeci">double filtered_ch0</div><div class="ttdoc">Filtered ADC value for current sensor channel 0.</div><div class="ttdef"><b>Definition</b> motors.c:168</div></div>
<div class="ttc" id="agroup__motor_html_gab5bace85b2480456bf970fe52a9f7643"><div class="ttname"><a href="#gab5bace85b2480456bf970fe52a9f7643">estimatePower</a></div><div class="ttdeci">double estimatePower(double voltage, double current_a, double current_b)</div><div class="ttdoc">Estimate Total Motor Power.</div><div class="ttdef"><b>Definition</b> motors.c:739</div></div>
<div class="ttc" id="agroup__motor_html_gaee70e8b430f0700c220c36645ab3d9d2"><div class="ttname"><a href="#gaee70e8b430f0700c220c36645ab3d9d2">filtered_ch4</a></div><div class="ttdeci">double filtered_ch4</div><div class="ttdoc">Filtered ADC value for current sensor channel 4.</div><div class="ttdef"><b>Definition</b> motors.c:171</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3"></a>
Safety Considerations:</h2>
<ul>
<li><b>Power Monitoring</b>: ADC values updated asynchronously - use critical sections</li>
<li><b>RPM Limits</b>: System enforces MAXRPM (3250) limit automatically</li>
<li><b>Soft Start/Stop</b>: Timer-based ramping prevents sudden speed changes</li>
<li><b>Hall Sensor Validation</b>: System handles sensor failures with polling fallback</li>
<li><b>Current Sensing</b>: Dual-phase monitoring with 7mΩ sense resistors</li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
System Timing:</h2>
<ul>
<li>Power Task: ~400ms update rate with ADC interrupt triggering</li>
<li>Speed Controller: 100ms PID update cycle</li>
<li>RPM Ramping: 250ms timer intervals (4Hz)</li>
<li>Motor Commutation: Interrupt-driven (μs response time)</li>
</ul>
<h2><a class="anchor" id="autotoc_md5"></a>
Hardware Requirements:</h2>
<ul>
<li>TM4C microcontroller with FreeRTOS</li>
<li>3x Hall effect sensors (GPIO ports M, H, N)</li>
<li>2x Current sensors with ADC inputs (channels 0, 4)</li>
<li>BLDC motor with compatible commutation sequence</li>
<li>24V motor supply with current sensing capability</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>James Prince &amp; Samuel Smith </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gab456f738bec038962389b5c5cfca3de4" name="gab456f738bec038962389b5c5cfca3de4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab456f738bec038962389b5c5cfca3de4">&#9670;&#160;</a></span>MAXBUFFER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXBUFFER&#160;&#160;&#160;40</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga99a14d1fc263b159cb634778c7a14b36" name="ga99a14d1fc263b159cb634778c7a14b36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga99a14d1fc263b159cb634778c7a14b36">&#9670;&#160;</a></span>MAXRPM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXRPM&#160;&#160;&#160;3250</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum RPM rating of the motor. </p>

</div>
</div>
<a id="gaf281425e62298bac2df0fbe8690a4844" name="gaf281425e62298bac2df0fbe8690a4844"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf281425e62298bac2df0fbe8690a4844">&#9670;&#160;</a></span>PERIOD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PERIOD&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PWM period setting (10-100 range) </p>

</div>
</div>
<a id="ga176b6c843e5a734ec409cc347821bbeb" name="ga176b6c843e5a734ec409cc347821bbeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga176b6c843e5a734ec409cc347821bbeb">&#9670;&#160;</a></span>setBitTo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define setBitTo</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(n &amp; ~(1 &lt;&lt; b)) | (v &lt;&lt; b)</div>
</div><!-- fragment -->
<p>Utility macro to set specific bit in a number. </p>

</div>
</div>
<a id="ga76b2b7d3f9f2c0f931fbbb854c96986e" name="ga76b2b7d3f9f2c0f931fbbb854c96986e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga76b2b7d3f9f2c0f931fbbb854c96986e">&#9670;&#160;</a></span>TICKS_TO_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TICKS_TO_MS</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ticks</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(((double)ticks) / ((double)<a class="code hl_define" href="FreeRTOSConfig_8h.html#a2f0258dd1e3b877e5bc013be54c2db6a">configTICK_RATE_HZ</a>))</div>
<div class="ttc" id="aFreeRTOSConfig_8h_html_a2f0258dd1e3b877e5bc013be54c2db6a"><div class="ttname"><a href="FreeRTOSConfig_8h.html#a2f0258dd1e3b877e5bc013be54c2db6a">configTICK_RATE_HZ</a></div><div class="ttdeci">#define configTICK_RATE_HZ</div><div class="ttdef"><b>Definition</b> FreeRTOSConfig.h:60</div></div>
</div><!-- fragment -->
<p>Convert FreeRTOS ticks to milliseconds. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga8d6f239da630b7b16b0e02a4aaa664f1" name="ga8d6f239da630b7b16b0e02a4aaa664f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8d6f239da630b7b16b0e02a4aaa664f1">&#9670;&#160;</a></span>checkMotor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void checkMotor </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Poll Hall effect sensors and update motor (fallback method) </p>
<p>Reads all three Hall sensors directly from GPIO and updates commutation. Used as backup when interrupt-driven updates fail or timeout. Automatically calls <a class="el" href="#ga988a20ffdf02ddb5e1df3a83828494aa" title="Decode Hall effect sensor state and update motor commutation.">hallEffectDecode()</a> after reading sensors.</p>
<dl class="section note"><dt>Note</dt><dd>Fallback for interrupt-driven commutation </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga988a20ffdf02ddb5e1df3a83828494aa" title="Decode Hall effect sensor state and update motor commutation.">hallEffectDecode</a>, motorTask </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_ga8d6f239da630b7b16b0e02a4aaa664f1_cgraph.png" border="0" usemap="#agroup__motor_ga8d6f239da630b7b16b0e02a4aaa664f1_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ga17acdc6905b68b45c67aa61fe958f688" name="ga17acdc6905b68b45c67aa61fe958f688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17acdc6905b68b45c67aa61fe958f688">&#9670;&#160;</a></span>CreateMotorTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CreateMotorTask </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create Motor Control Tasks. </p>
<p>Initializes the motor control system by setting up GPIO, ADC, and motor library. Creates all necessary FreeRTOS tasks for motor control, speed control, and power monitoring.</p>
<dl class="section return"><dt>Returns</dt><dd>int Status code (0 = success, -1 = failure on HallEffectFlag, -2 = failure on estopMutex)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function should be called once during system initialization </dd></dl>
<dl class="section see"><dt>See also</dt><dd>motorTask, speedControllerTask, powerTask </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_ga17acdc6905b68b45c67aa61fe958f688_cgraph.png" border="0" usemap="#agroup__motor_ga17acdc6905b68b45c67aa61fe958f688_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_ga17acdc6905b68b45c67aa61fe958f688_icgraph.png" border="0" usemap="#agroup__motor_ga17acdc6905b68b45c67aa61fe958f688_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="gab5bace85b2480456bf970fe52a9f7643" name="gab5bace85b2480456bf970fe52a9f7643"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5bace85b2480456bf970fe52a9f7643">&#9670;&#160;</a></span>estimatePower()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double estimatePower </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>voltage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>current_a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>current_b</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Estimate Total Motor Power. </p>
<p>Calculates total motor power consumption from voltage and current measurements from two motor phases.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">voltage</td><td>Motor supply voltage in Volts </td></tr>
    <tr><td class="paramname">current_a</td><td>Current in phase A in Amperes </td></tr>
    <tr><td class="paramname">current_b</td><td>Current in phase B in Amperes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double Estimated total power in Watts</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Multiplies by 1.3 to account for unmeasured third phase </dd></dl>

</div>
</div>
<a id="gab86eb19b25275b3725f3c542ed3b79f7" name="gab86eb19b25275b3725f3c542ed3b79f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab86eb19b25275b3725f3c542ed3b79f7">&#9670;&#160;</a></span>eStopGetter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t eStopGetter </td>
          <td>(</td>
          <td class="paramtype">TickType_t</td>          <td class="paramname"><span class="paramname"><em>blockingTime</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_gab86eb19b25275b3725f3c542ed3b79f7_icgraph.png" border="0" usemap="#agroup__motor_gab86eb19b25275b3725f3c542ed3b79f7_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="gaf3c9525e67cb6a1d2b2957248226c7aa" name="gaf3c9525e67cb6a1d2b2957248226c7aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf3c9525e67cb6a1d2b2957248226c7aa">&#9670;&#160;</a></span>eStopSetter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t eStopSetter </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>set</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TickType_t</td>          <td class="paramname"><span class="paramname"><em>blockingTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga988a20ffdf02ddb5e1df3a83828494aa" name="ga988a20ffdf02ddb5e1df3a83828494aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga988a20ffdf02ddb5e1df3a83828494aa">&#9670;&#160;</a></span>hallEffectDecode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hallEffectDecode </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode Hall effect sensor state and update motor commutation. </p>
<p>Implements 6-step BLDC commutation based on 3-bit Hall sensor state. Updates motor phases through motorlib <a class="el" href="motorlib_8h.html#af5a0079ae18efa088e80cd6a63333233" title="Main function which Commutates the motor phases A,B,C to the correct values based on the Hall sensor ...">updateMotor()</a> function. Includes kickstart logic for sensor state 0x00.</p>
<dl class="section note"><dt>Note</dt><dd>Only operates when motorState is enabled </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga5532ce73a7b684972ba38c612509c340" title="Current Hall effect sensor state (3-bit combination)">hallEffectState</a>, <a class="el" href="#ga83992b55088fe8e82bb7b59cd450305f" title="Motor enable state (1=on, 0=off)">motorState</a>, <a class="el" href="motorlib_8h.html#af5a0079ae18efa088e80cd6a63333233" title="Main function which Commutates the motor phases A,B,C to the correct values based on the Hall sensor ...">updateMotor</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_ga988a20ffdf02ddb5e1df3a83828494aa_cgraph.png" border="0" usemap="#agroup__motor_ga988a20ffdf02ddb5e1df3a83828494aa_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_ga988a20ffdf02ddb5e1df3a83828494aa_icgraph.png" border="0" usemap="#agroup__motor_ga988a20ffdf02ddb5e1df3a83828494aa_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="gad17f8340ab0c3389c430455844624503" name="gad17f8340ab0c3389c430455844624503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad17f8340ab0c3389c430455844624503">&#9670;&#160;</a></span>PIDController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t PIDController </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>RPM</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>dt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PID speed controller for motor. </p>
<p>Implements proportional-integral-derivative control for speed regulation. Calculates PWM duty cycle based on RPM error and PID gains. Includes special handling for startup and reset conditions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RPM</td><td>Current motor RPM measurement </td></tr>
    <tr><td class="paramname">dt</td><td>Time delta in milliseconds since last update </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int PWM duty cycle (0-PERIOD), -1 on error </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Special case: RPM=0, dt=-1 resets integral term </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga829e788bfb9af8ac8e1a66edb6563269" title="Target RPM setpoint for speed controller.">setRPM</a>, <a class="el" href="#gac6dd8cf133db4505d84f2144ea261181" title="PID Proportional gain constant for speed control.">Kp</a>, <a class="el" href="#gafe6fd874b1259cef0710b2c9d23bc087" title="PID Integral gain constant for speed control.">Ki</a>, <a class="el" href="#gac650d3f965d8f8ed28a7f45b96d4ebdd" title="PID Derivative gain constant for speed control.">Kd</a>, <a class="el" href="motorlib_8h.html#a2787833597cc85b70a8dea4657ccfa12" title="This function sets the duty cycle of the high side PWM lines.">setDuty</a> </dd></dl>

</div>
</div>
<a id="ga3ade69d0b0ae4566e4a7217d99490f04" name="ga3ade69d0b0ae4566e4a7217d99490f04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ade69d0b0ae4566e4a7217d99490f04">&#9670;&#160;</a></span>readCurrent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double readCurrent </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>adc_value</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read Current from ADC Value. </p>
<p>Converts ADC reading to actual current value using the current sensor specifications and calibration parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adc_value</td><td>Raw ADC reading (0-4095 for 12-bit ADC) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double Current in Amperes</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Uses 7mΩ sense resistor and 10x gain current sensor </dd></dl>
<dl class="section see"><dt>See also</dt><dd>VREF, R_SENSE, GAIN, ADC_MAX </dd></dl>

</div>
</div>
<a id="ga116fdd93b02eab3cdc08b91546ea4048" name="ga116fdd93b02eab3cdc08b91546ea4048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga116fdd93b02eab3cdc08b91546ea4048">&#9670;&#160;</a></span>RPMCalculate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double RPMCalculate </td>
          <td>(</td>
          <td class="paramtype">TickType_t</td>          <td class="paramname"><span class="paramname"><em>dt</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate motor RPM from Hall effect transitions. </p>
<p>Computes RPM based on Hall effect transition count and time delta. Uses 12 transitions per revolution for calculation. Scales result to RPM units with time compensation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dt</td><td>Time delta in ticks since last calculation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double Motor RPM </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#gacd84449e787329bb9988de0695dbed64" title="Counter for Hall effect sensor transitions (for RPM calculation)">hallEffect_Count</a>, pdMS_TO_TICKS </dd></dl>

</div>
</div>
<a id="gaf30c012c92bdd66716137298e1f7e198" name="gaf30c012c92bdd66716137298e1f7e198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf30c012c92bdd66716137298e1f7e198">&#9670;&#160;</a></span>setupTimers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setupTimers </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure Timer1 for RPM ramping control. </p>
<p>Sets up Timer1A for periodic interrupts at 4Hz rate. Used for gradual RPM changes and soft start/stop functionality. Calculates step sizes for normal and emergency stop ramping.</p>
<dl class="section note"><dt>Note</dt><dd>Timer runs at system clock / 4 for smooth transitions </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#gaa870854414570364019b53db97f40f86" title="Timer 1A interrupt handler for RPM ramping.">xTimer1AHandler</a>, <a class="el" href="#ga2de5b01a4efcb9b1582bb2947efc6bad" title="RPM ramping step size for acceleration.">steps</a>, <a class="el" href="#gaf6653bd41447168ef760db988a4b6f3f" title="RPM ramping step size for emergency stop deceleration.">esteps</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_gaf30c012c92bdd66716137298e1f7e198_cgraph.png" border="0" usemap="#agroup__motor_gaf30c012c92bdd66716137298e1f7e198_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_gaf30c012c92bdd66716137298e1f7e198_icgraph.png" border="0" usemap="#agroup__motor_gaf30c012c92bdd66716137298e1f7e198_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ga45bc1614b4a08f093abf9970405eff4f" name="ga45bc1614b4a08f093abf9970405eff4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45bc1614b4a08f093abf9970405eff4f">&#9670;&#160;</a></span>xADC1Sequence0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xADC1Sequence0 </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ADC1 Sequence 0 Interrupt Handler. </p>
<p>Handles ADC conversion complete interrupts for current sensing. Notifies the power monitoring task when new ADC data is available.</p>
<dl class="section note"><dt>Note</dt><dd>This is an interrupt service routine (ISR) </dd></dl>
<dl class="section see"><dt>See also</dt><dd>powerTask, <a class="el" href="#ga2e439ca68b7b6892379372a7d64e17c0" title="Task handle for power monitoring task.">powerTaskHandle</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_ga45bc1614b4a08f093abf9970405eff4f_cgraph.png" border="0" usemap="#agroup__motor_ga45bc1614b4a08f093abf9970405eff4f_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_ga45bc1614b4a08f093abf9970405eff4f_icgraph.png" border="0" usemap="#agroup__motor_ga45bc1614b4a08f093abf9970405eff4f_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="gafcf62509553f63c5a7bf44e7d61c960b" name="gafcf62509553f63c5a7bf44e7d61c960b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafcf62509553f63c5a7bf44e7d61c960b">&#9670;&#160;</a></span>xGPIOHandlerH()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xGPIOHandlerH </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GPIO Port H Interrupt Handler. </p>
<p>Handles interrupts from GPIO Port H, specifically for Hall Effect Sensor B. This function is called on both rising and falling edges of the sensor signal. Updates the Hall Effect Sensor state and increments the transition counter.</p>
<dl class="section note"><dt>Note</dt><dd>This is an interrupt service routine (ISR) </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga5532ce73a7b684972ba38c612509c340" title="Current Hall effect sensor state (3-bit combination)">hallEffectState</a>, <a class="el" href="#gacd84449e787329bb9988de0695dbed64" title="Counter for Hall effect sensor transitions (for RPM calculation)">hallEffect_Count</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_gafcf62509553f63c5a7bf44e7d61c960b_cgraph.png" border="0" usemap="#agroup__motor_gafcf62509553f63c5a7bf44e7d61c960b_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_gafcf62509553f63c5a7bf44e7d61c960b_icgraph.png" border="0" usemap="#agroup__motor_gafcf62509553f63c5a7bf44e7d61c960b_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="gaf3d16f19c3510a10f87fc0bcf1e57918" name="gaf3d16f19c3510a10f87fc0bcf1e57918"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf3d16f19c3510a10f87fc0bcf1e57918">&#9670;&#160;</a></span>xGPIOHandlerM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xGPIOHandlerM </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GPIO Port M Interrupt Handler. </p>
<p>Handles interrupts from GPIO Port M, specifically for Hall Effect Sensor A. This function is called on both rising and falling edges of the sensor signal. Updates the Hall Effect Sensor state and increments the transition counter.</p>
<dl class="section note"><dt>Note</dt><dd>This is an interrupt service routine (ISR) </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga5532ce73a7b684972ba38c612509c340" title="Current Hall effect sensor state (3-bit combination)">hallEffectState</a>, <a class="el" href="#gacd84449e787329bb9988de0695dbed64" title="Counter for Hall effect sensor transitions (for RPM calculation)">hallEffect_Count</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_gaf3d16f19c3510a10f87fc0bcf1e57918_cgraph.png" border="0" usemap="#agroup__motor_gaf3d16f19c3510a10f87fc0bcf1e57918_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_gaf3d16f19c3510a10f87fc0bcf1e57918_icgraph.png" border="0" usemap="#agroup__motor_gaf3d16f19c3510a10f87fc0bcf1e57918_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="gab522aa5b63f839693f4c5f1da54dde72" name="gab522aa5b63f839693f4c5f1da54dde72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab522aa5b63f839693f4c5f1da54dde72">&#9670;&#160;</a></span>xGPIOHandlerN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xGPIOHandlerN </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GPIO Port N Interrupt Handler. </p>
<p>Handles interrupts from GPIO Port N, specifically for Hall Effect Sensor C. This function is called on both rising and falling edges of the sensor signal. Updates the Hall Effect Sensor state and increments the transition counter.</p>
<dl class="section note"><dt>Note</dt><dd>This is an interrupt service routine (ISR) </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga5532ce73a7b684972ba38c612509c340" title="Current Hall effect sensor state (3-bit combination)">hallEffectState</a>, <a class="el" href="#gacd84449e787329bb9988de0695dbed64" title="Counter for Hall effect sensor transitions (for RPM calculation)">hallEffect_Count</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_gab522aa5b63f839693f4c5f1da54dde72_cgraph.png" border="0" usemap="#agroup__motor_gab522aa5b63f839693f4c5f1da54dde72_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_gab522aa5b63f839693f4c5f1da54dde72_icgraph.png" border="0" usemap="#agroup__motor_gab522aa5b63f839693f4c5f1da54dde72_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="gaa870854414570364019b53db97f40f86" name="gaa870854414570364019b53db97f40f86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa870854414570364019b53db97f40f86">&#9670;&#160;</a></span>xTimer1AHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xTimer1AHandler </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer 1A interrupt handler for RPM ramping. </p>
<p>Updates softSetRPM gradually toward setRPM target. Handles both normal acceleration and emergency stop deceleration. Called at 4Hz rate for smooth speed transitions.</p>
<dl class="section note"><dt>Note</dt><dd>ISR function - implements soft start/stop functionality </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga829e788bfb9af8ac8e1a66edb6563269" title="Target RPM setpoint for speed controller.">setRPM</a>, <a class="el" href="#gaae451c935d6f5fbddc61a34be4fddb55" title="Current soft RPM value (ramped setpoint)">softSetRPM</a>, <a class="el" href="#ga1b9466d080199239d19192d3257e6f83" title="Emergency stop flag.">estop</a> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_gaa870854414570364019b53db97f40f86_cgraph.png" border="0" usemap="#agroup__motor_gaa870854414570364019b53db97f40f86_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__motor_gaa870854414570364019b53db97f40f86_icgraph.png" border="0" usemap="#agroup__motor_gaa870854414570364019b53db97f40f86_icgraph" alt=""/></div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga789a93ef20a4eb18ffc2fbf321137fd3" name="ga789a93ef20a4eb18ffc2fbf321137fd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga789a93ef20a4eb18ffc2fbf321137fd3">&#9670;&#160;</a></span>adcBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="structadcSample.html">adcSample</a> adcBuffer[<a class="el" href="#gab456f738bec038962389b5c5cfca3de4">MAXBUFFER</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga89b7affab316adf9f2aa29499fae73f4" name="ga89b7affab316adf9f2aa29499fae73f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga89b7affab316adf9f2aa29499fae73f4">&#9670;&#160;</a></span>adcHead</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t adcHead = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaf40291b36f16081889e40c717360bad5" name="gaf40291b36f16081889e40c717360bad5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf40291b36f16081889e40c717360bad5">&#9670;&#160;</a></span>adcTail</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t adcTail = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga3d45af17d7638639d42af245a9e8ae96" name="ga3d45af17d7638639d42af245a9e8ae96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d45af17d7638639d42af245a9e8ae96">&#9670;&#160;</a></span>ch0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t adcSample::ch0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga9e35a47eb54661eff53a300ef12f2ebf" name="ga9e35a47eb54661eff53a300ef12f2ebf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e35a47eb54661eff53a300ef12f2ebf">&#9670;&#160;</a></span>ch4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t adcSample::ch4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga600c66f48ad4125bb1b9ac198f42ea5f" name="ga600c66f48ad4125bb1b9ac198f42ea5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga600c66f48ad4125bb1b9ac198f42ea5f">&#9670;&#160;</a></span>currentOutput</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t currentOutput = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>@breif Current Output to PWM </p><dl class="section warning"><dt>Warning</dt><dd>motorMulex should be taken before accessing! </dd></dl>

</div>
</div>
<a id="ga73c569eb51dc41fde02995b7e9a4de2e" name="ga73c569eb51dc41fde02995b7e9a4de2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga73c569eb51dc41fde02995b7e9a4de2e">&#9670;&#160;</a></span>currentRPM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t currentRPM = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current RPM of the motor. </p>
<dl class="section warning"><dt>Warning</dt><dd>motorMulex should be taken before accessing! </dd></dl>

</div>
</div>
<a id="ga89d98e267476d74d3dea65f84ddd830a" name="ga89d98e267476d74d3dea65f84ddd830a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga89d98e267476d74d3dea65f84ddd830a">&#9670;&#160;</a></span>direction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool direction</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Motor direction flag (deprecated - causes stalling) </p>

</div>
</div>
<a id="gaf6653bd41447168ef760db988a4b6f3f" name="gaf6653bd41447168ef760db988a4b6f3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6653bd41447168ef760db988a4b6f3f">&#9670;&#160;</a></span>esteps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double esteps</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RPM ramping step size for emergency stop deceleration. </p>

</div>
</div>
<a id="ga1b9466d080199239d19192d3257e6f83" name="ga1b9466d080199239d19192d3257e6f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b9466d080199239d19192d3257e6f83">&#9670;&#160;</a></span>estop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool estop = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Emergency stop flag. </p>
<p>Set to 1 to initiate soft motor stop, 0 to enable </p>

</div>
</div>
<a id="ga9b055c090b25e7c8b478ebca0ab9e69d" name="ga9b055c090b25e7c8b478ebca0ab9e69d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b055c090b25e7c8b478ebca0ab9e69d">&#9670;&#160;</a></span>estopMutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SemaphoreHandle_t estopMutex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>motorMulex for Current RPM and output </p>

</div>
</div>
<a id="ga72add6b773bcdff7c2627fb57e0e318e" name="ga72add6b773bcdff7c2627fb57e0e318e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72add6b773bcdff7c2627fb57e0e318e">&#9670;&#160;</a></span>filtered_ch0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double filtered_ch0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filtered ADC value for current sensor channel 0. </p>

</div>
</div>
<a id="gaee70e8b430f0700c220c36645ab3d9d2" name="gaee70e8b430f0700c220c36645ab3d9d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee70e8b430f0700c220c36645ab3d9d2">&#9670;&#160;</a></span>filtered_ch4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double filtered_ch4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filtered ADC value for current sensor channel 4. </p>

</div>
</div>
<a id="gacb2b0bb917b622ffe964e56d075f2d60" name="gacb2b0bb917b622ffe964e56d075f2d60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb2b0bb917b622ffe964e56d075f2d60">&#9670;&#160;</a></span>g_ui32SysClock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t g_ui32SysClock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="gacd84449e787329bb9988de0695dbed64" name="gacd84449e787329bb9988de0695dbed64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd84449e787329bb9988de0695dbed64">&#9670;&#160;</a></span>hallEffect_Count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t hallEffect_Count</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Counter for Hall effect sensor transitions (for RPM calculation) </p>

</div>
</div>
<a id="gaa210b2858db4e72330bbae1e1d083a7d" name="gaa210b2858db4e72330bbae1e1d083a7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa210b2858db4e72330bbae1e1d083a7d">&#9670;&#160;</a></span>hallEffectFlag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SemaphoreHandle_t hallEffectFlag</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Semaphore signaled by Hall effect sensor interrupts. </p>

</div>
</div>
<a id="ga5532ce73a7b684972ba38c612509c340" name="ga5532ce73a7b684972ba38c612509c340"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5532ce73a7b684972ba38c612509c340">&#9670;&#160;</a></span>hallEffectState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t hallEffectState</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current Hall effect sensor state (3-bit combination) </p>
<p>Bit 2: Sensor C, Bit 1: Sensor B, Bit 0: Sensor A </p>

</div>
</div>
<a id="gac650d3f965d8f8ed28a7f45b96d4ebdd" name="gac650d3f965d8f8ed28a7f45b96d4ebdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac650d3f965d8f8ed28a7f45b96d4ebdd">&#9670;&#160;</a></span>Kd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double Kd = 0.00005</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PID Derivative gain constant for speed control. </p>

</div>
</div>
<a id="gafe6fd874b1259cef0710b2c9d23bc087" name="gafe6fd874b1259cef0710b2c9d23bc087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe6fd874b1259cef0710b2c9d23bc087">&#9670;&#160;</a></span>Ki</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double Ki = 0.075</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PID Integral gain constant for speed control. </p>

</div>
</div>
<a id="gac6dd8cf133db4505d84f2144ea261181" name="gac6dd8cf133db4505d84f2144ea261181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac6dd8cf133db4505d84f2144ea261181">&#9670;&#160;</a></span>Kp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double Kp = 0.032</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PID Proportional gain constant for speed control. </p>

</div>
</div>
<a id="ga99178960b78fe351d37f5d6b4d4ff4b2" name="ga99178960b78fe351d37f5d6b4d4ff4b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga99178960b78fe351d37f5d6b4d4ff4b2">&#9670;&#160;</a></span>maxCurrentLimit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sharedValues maxCurrentLimit</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum current limit for motor. </p>

</div>
</div>
<a id="ga83992b55088fe8e82bb7b59cd450305f" name="ga83992b55088fe8e82bb7b59cd450305f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83992b55088fe8e82bb7b59cd450305f">&#9670;&#160;</a></span>motorState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool motorState</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Motor enable state (1=on, 0=off) </p>

</div>
</div>
<a id="ga17cac9283a9453945976134b5535deb0" name="ga17cac9283a9453945976134b5535deb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17cac9283a9453945976134b5535deb0">&#9670;&#160;</a></span>powerData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sharedValues powerData</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shared Power Values. </p>

</div>
</div>
<a id="ga2e439ca68b7b6892379372a7d64e17c0" name="ga2e439ca68b7b6892379372a7d64e17c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2e439ca68b7b6892379372a7d64e17c0">&#9670;&#160;</a></span>powerTaskHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TaskHandle_t powerTaskHandle</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task handle for power monitoring task. </p>

</div>
</div>
<a id="gadb472f4b53a5c0712e857739df6e61f5" name="gadb472f4b53a5c0712e857739df6e61f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadb472f4b53a5c0712e857739df6e61f5">&#9670;&#160;</a></span>pwmData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sharedValues pwmData</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shared PWM value. </p>

</div>
</div>
<a id="gaf8719d85f3c68c832744bae03df7d2b4" name="gaf8719d85f3c68c832744bae03df7d2b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8719d85f3c68c832744bae03df7d2b4">&#9670;&#160;</a></span>rpmData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sharedValues rpmData</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shared RPM values. </p>

</div>
</div>
<a id="ga829e788bfb9af8ac8e1a66edb6563269" name="ga829e788bfb9af8ac8e1a66edb6563269"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga829e788bfb9af8ac8e1a66edb6563269">&#9670;&#160;</a></span>setRPM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile double setRPM</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Target RPM setpoint for speed controller. </p>
<p>Set this variable to change motor target speed </p>

</div>
</div>
<a id="gaae451c935d6f5fbddc61a34be4fddb55" name="gaae451c935d6f5fbddc61a34be4fddb55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae451c935d6f5fbddc61a34be4fddb55">&#9670;&#160;</a></span>softSetRPM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile double softSetRPM</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current soft RPM value (ramped setpoint) </p>

</div>
</div>
<a id="ga2de5b01a4efcb9b1582bb2947efc6bad" name="ga2de5b01a4efcb9b1582bb2947efc6bad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2de5b01a4efcb9b1582bb2947efc6bad">&#9670;&#160;</a></span>steps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double steps</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RPM ramping step size for acceleration. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
